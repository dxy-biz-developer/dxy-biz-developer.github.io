<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>丁香园（E-marketing项目使用技巧,持续更新中） | DXY Biz Developer</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">丁香园（E-marketing项目使用技巧,持续更新中）</h1><a id="logo" href="/.">DXY Biz Developer</a><p class="description">Make The Better World</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">丁香园（E-marketing项目使用技巧,持续更新中）</h1><div class="post-meta">Apr 13, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/04/biz-front-end-use-skill/" href="/2016/04/biz-front-end-use-skill/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有<code>require()</code>的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。</p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ol>
<li><em><a href="#判断是否IE8">判断是否IE8</a></em></li>
<li><em><a href="#IE8修复placeholder">IE8修复placeholder</a></em></li>
<li><em><a href="#IE8 box-shadow兼容">IE8 box-shaadow兼容</a></em></li>
<li><em><a href="#IE8 rgba兼容">IE8 rgba兼容</a></em></li>
<li><em><a href="#分享组件使用">分享组件使用</a></em></li>
<li><em><a href="#地址选择控件">地址选择控件</a></em></li>
<li><em><a href="#医院选择控件">医院选择控件</a></em></li>
<li><em><a href="#科室选择控件">科室选择控件</a></em></li>
<li><em><a href="#职称选择控件">职称选择控件</a></em></li>
<li><em><a href="#判断是否移动端">判断是否移动端</a></em></li>
<li><em><a href="#获取内页文章ID">获取内页文章ID</a></em></li>
<li><em><a href="#validate插件扩展">validate插件扩展</a></em></li>
<li><em><a href="#validate插件使用">validate插件使用</a></em></li>
<li><em><a href="#bxslider轮播图使用">bxslider轮播图使用</a></em></li>
<li><em><a href="#一般选项卡">一般选项卡</a></em></li>
<li><em><a href="#新窗口打开页面">新窗口打开页面</a></em></li>
<li><em><a href="#滚动到指定位置滑动动画">滚动到指定位置滑动动画</a></em></li>
<li><em><a href="#对话框控件使用">对话框控件使用</a></em></li>
</ol>
<h2 id="1-判断是否IE8"><a href="#1-判断是否IE8" class="headerlink" title="1.判断是否IE8"></a><a name="判断是否IE8"></a>1.判断是否IE8</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isIE=!!<span class="built_in">window</span>.ActiveXObject; </span><br><span class="line"><span class="keyword">var</span> isIE8=isIE&amp;&amp;!!<span class="built_in">document</span>.documentMode;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="2-IE8修复placeholder"><a href="#2-IE8修复placeholder" class="headerlink" title="2.IE8修复placeholder"></a><a name="IE8修复placeholder"></a>2.IE8修复placeholder</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//placeholder兼容</span></span><br><span class="line"><span class="keyword">var</span> JPlaceHolder = &#123;</span><br><span class="line">   <span class="comment">//检测</span></span><br><span class="line">   _check : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">'placeholder'</span> <span class="keyword">in</span> <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//初始化</span></span><br><span class="line">   init : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(!<span class="keyword">this</span>._check())&#123;</span><br><span class="line">           <span class="keyword">this</span>.fix();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//修复</span></span><br><span class="line">   fix : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       jQuery(<span class="string">':input[placeholder]'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index, element</span>) </span>&#123;</span><br><span class="line">           <span class="keyword">var</span> self = $(<span class="keyword">this</span>), txt = self.attr(<span class="string">'placeholder'</span>);</span><br><span class="line">           self.attr(<span class="string">'placeholder'</span>,<span class="string">''</span>);</span><br><span class="line">           self.wrap($(<span class="string">'&lt;div&gt;&lt;/div&gt;'</span>).css(&#123;position:<span class="string">'relative'</span>, zoom:<span class="string">'1'</span>, border:<span class="string">'none'</span>, background:<span class="string">'none'</span>, padding:<span class="string">'none'</span>, margin:<span class="string">'none'</span>&#125;));</span><br><span class="line">           <span class="keyword">var</span> pos = self.position(), h = self.outerHeight(<span class="literal">true</span>), paddingleft = self.css(<span class="string">'padding-left'</span>);</span><br><span class="line">           <span class="keyword">var</span> holder = $(<span class="string">'&lt;span&gt;&lt;/span&gt;'</span>).text(txt).css(&#123;position:<span class="string">'absolute'</span>, left:pos.left, top:pos.top, height:h, lineHeight:h+<span class="string">'px'</span>, paddingLeft:paddingleft, color:<span class="string">'#aaa'</span>,width:<span class="string">'100%'</span>,display:<span class="string">'block'</span>&#125;).appendTo(self.parent());</span><br><span class="line">           self.focus(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">               holder.hide();</span><br><span class="line">           &#125;).blur(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">               <span class="keyword">if</span>(!self.val())&#123;</span><br><span class="line">                   holder.show();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">           holder.click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">               holder.hide();</span><br><span class="line">               self.focus();</span><br><span class="line">           &#125;);</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//执行</span></span><br><span class="line">	jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   	JPlaceHolder.init();    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="3-IE8-box-shadow兼容"><a href="#3-IE8-box-shadow兼容" class="headerlink" title="3.IE8 box-shadow兼容"></a><a name="IE8 box-shadow兼容"></a>3.IE8 box-shadow兼容</h2><pre><code><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//如果IE8，则添加shaded class</span><br><span class="line">.shaded &#123; </span><br><span class="line">    background-color: #fff;</span><br><span class="line">    zoom: 1; </span><br><span class="line">    filter: progid:DXImageTransform.Microsoft.Shadow(color='#aaaaaa', Direction=135, Strength=6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="4-IE8-rgba兼容"><a href="#4-IE8-rgba兼容" class="headerlink" title="4.IE8 rgba兼容"></a><a name="IE8 rgba兼容"></a>4.IE8 rgba兼容</h2><pre><code><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。</span><br><span class="line">//参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。</span><br><span class="line"></span><br><span class="line">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="5-分享组件使用"><a href="#5-分享组件使用" class="headerlink" title="5.分享组件使用"></a><a name="分享组件使用"></a>5.分享组件使用</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> share = <span class="built_in">require</span>(<span class="string">'./dxy_share.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> shareContainer = $(<span class="string">'放置容器'</span>); <span class="comment">//给一个放置容器，其他事情控件会帮你完成</span></span><br><span class="line">    <span class="keyword">if</span> (shareContainer.length) &#123;</span><br><span class="line">        shareContainer.attr(<span class="string">'id'</span>,<span class="string">'to-share'</span>);</span><br><span class="line">        <span class="keyword">new</span> share().show(&#123;</span><br><span class="line">            id: <span class="string">'to-share'</span>,</span><br><span class="line">            lst: [<span class="string">'weixin'</span>, <span class="string">'sina'</span>, <span class="string">'tt'</span>, <span class="string">'qzone'</span>, <span class="string">'douban'</span>],</span><br><span class="line">            style: <span class="number">3</span></span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line">   <span class="comment">//sina: '新浪微博',</span></span><br><span class="line">   <span class="comment">//tt: '腾讯微博',</span></span><br><span class="line">   <span class="comment">//douban: '豆瓣',</span></span><br><span class="line">   <span class="comment">//renren: '人人网',</span></span><br><span class="line">   <span class="comment">//qzone: 'QQ空间',</span></span><br><span class="line">   <span class="comment">//idxy: '丁香客',</span></span><br><span class="line">   <span class="comment">//kaixin: '开心网',</span></span><br><span class="line">   <span class="comment">//weixin: '微信',</span></span><br><span class="line">   <span class="comment">//favorite: '收藏夹'</span></span><br></pre></td></tr></table></figure>
</code></pre><p>现在已经被范同学优化更新，详细使用方法请见<a href="https://github.com/dxy-biz-developer/dxy-share" target="_blank" rel="external">dxy-share</a>    </p>
<h2 id="6-地址选择控件"><a href="#6-地址选择控件" class="headerlink" title="6.地址选择控件"></a><a name="地址选择控件"></a>6.地址选择控件</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Cascading = <span class="built_in">require</span>(<span class="string">'../lib/Cascading.full.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//桌面版地址</span></span><br><span class="line">        cascadeLocation = <span class="keyword">new</span> Cascading.Desktop(&#123;</span><br><span class="line">            type: <span class="string">'common'</span>,</span><br><span class="line">            data: <span class="string">'dataLocation'</span>,</span><br><span class="line">            dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</span><br><span class="line">            container: <span class="string">'cascading-location-container'</span>,</span><br><span class="line">            additionClass: <span class="string">'test'</span>,</span><br><span class="line">            maxLevel: <span class="number">3</span>,</span><br><span class="line">            maxSelect: <span class="number">1</span>,</span><br><span class="line">            ieFallback: <span class="literal">true</span>,</span><br><span class="line">            panelNames: [<span class="string">'省份'</span>, <span class="string">'城市'</span>, <span class="string">'区县'</span>],</span><br><span class="line">            defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>, <span class="string">'150621'</span>], [<span class="string">'130000'</span>, <span class="string">'130200'</span>, <span class="string">'130281'</span>]],</span><br><span class="line">            confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">                $(<span class="string">'#location'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));<span class="comment">//$('#location')为你的input输入框</span></span><br><span class="line">            &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       $(<span class="string">'#location'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">           cascadeLocation.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">           </span><br><span class="line">       &#125;);</span><br><span class="line">	<span class="comment">//移动版地址</span></span><br><span class="line">        cascadeLocationMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</span><br><span class="line">            type: <span class="string">'common'</span>,</span><br><span class="line">            data: <span class="string">'dataLocation'</span>,</span><br><span class="line">            dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</span><br><span class="line">            container: <span class="string">'cascading-location-mobile-container'</span>,</span><br><span class="line">            additionClass: <span class="string">'test'</span>,</span><br><span class="line">            maxLevel: <span class="number">3</span>,</span><br><span class="line">            maxSelect: <span class="number">1</span>,</span><br><span class="line">            ieFallback: <span class="literal">true</span>,</span><br><span class="line">            panelNames: [<span class="string">'省份'</span>, <span class="string">'城市'</span>, <span class="string">'区县'</span>],</span><br><span class="line">            defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>, <span class="string">'150621'</span>], [<span class="string">'130000'</span>, <span class="string">'130200'</span>, <span class="string">'130281'</span>]],</span><br><span class="line">            confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">                $(<span class="string">'#location'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));<span class="comment">//$('#location')为你的input输入框</span></span><br><span class="line">            &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       $(<span class="string">'#location'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">           cascadeLocation.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">           </span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="7-医院选择控件"><a href="#7-医院选择控件" class="headerlink" title="7.医院选择控件"></a><a name="医院选择控件"></a>7.医院选择控件</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 桌面版医院</span></span><br><span class="line">       cascadeHospital = <span class="keyword">new</span> Cascading.Desktop(&#123;</span><br><span class="line">           type: <span class="string">'hospital'</span>,</span><br><span class="line">           data: <span class="string">'dataLocation2Level'</span>,</span><br><span class="line">           dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</span><br><span class="line">           panelNames: [<span class="string">'等级'</span>, <span class="string">'医院'</span>],</span><br><span class="line">           panelWidth: [<span class="string">'30'</span>, <span class="string">'70'</span>],</span><br><span class="line">           container: <span class="string">'cascading-hospital-container'</span>,</span><br><span class="line">            defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>]],</span><br><span class="line">           ieFallback: <span class="literal">true</span>,</span><br><span class="line">           confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">               $(<span class="string">'#hospital-box'</span>).val(data.name.join(<span class="string">','</span>)); <span class="comment">//$('#hospital-box')为你的input输入框</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       $(<span class="string">'#hospital-box'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123; </span><br><span class="line">           cascadeHospital.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">       &#125;);</span><br><span class="line">   <span class="comment">//移动版医院</span></span><br><span class="line">   	cascadeHospitalMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</span><br><span class="line">           type: <span class="string">'hospital'</span>,</span><br><span class="line">           container: <span class="string">'cascading-hospital-mobile-container'</span>,</span><br><span class="line">           additionClass: <span class="string">'test'</span>,</span><br><span class="line">           data: <span class="string">'dataLocation2Level'</span>,</span><br><span class="line">           dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</span><br><span class="line">           panelNames: [<span class="string">'等级'</span>, <span class="string">'医院'</span>],</span><br><span class="line">           panelWidth: [<span class="string">'30'</span>, <span class="string">'70'</span>],</span><br><span class="line">            defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>]],</span><br><span class="line">           ieFallback: <span class="literal">true</span>,</span><br><span class="line">           confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">               $(<span class="string">'#hospital-box'</span>).val(data.name.join(<span class="string">','</span>));</span><br><span class="line">           &#125;,</span><br><span class="line">           cancelCallback: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       $(<span class="string">'#hospital-box'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">           cascadeHospitalMobile.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="8-科室选择控件"><a href="#8-科室选择控件" class="headerlink" title="8.科室选择控件"></a><a name="科室选择控件"></a>8.科室选择控件</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 桌面版科室</span></span><br><span class="line">       cascadeDepartment = <span class="keyword">new</span> Cascading.Desktop(&#123;</span><br><span class="line">           type: <span class="string">'department'</span>,</span><br><span class="line">           data: <span class="string">'dataDivision'</span>,</span><br><span class="line">           dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</span><br><span class="line">           container: <span class="string">'cascading-department-container'</span>,</span><br><span class="line">           onlyLast: <span class="literal">true</span>,</span><br><span class="line">           additionClass: <span class="string">'cascading-department-container'</span>,</span><br><span class="line">           maxSelect: <span class="number">1</span>,</span><br><span class="line">           ieFallback: <span class="literal">true</span>,</span><br><span class="line">           panelNames: [<span class="string">'科室'</span>, <span class="string">'科室二级'</span>],</span><br><span class="line">           confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">               $(<span class="string">'#department-box'</span>).val(data.pathName.join(<span class="string">'&gt;'</span>));<span class="comment">//$('#department-box')为你的input输入框</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       $(<span class="string">'#department-box'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">           cascadeDepartment.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">       &#125;);</span><br><span class="line"><span class="comment">// 移动版科室</span></span><br><span class="line">       cascadeLocationMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</span><br><span class="line">           type: <span class="string">'common'</span>,</span><br><span class="line">           data: <span class="string">'dataDivision'</span>,</span><br><span class="line">           dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</span><br><span class="line">           container: <span class="string">'cascading-depart-mobile-container'</span>,</span><br><span class="line">           confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;                    </span><br><span class="line">               $(<span class="string">'#department-box'</span>).val(data.pathName.join(<span class="string">','</span>));</span><br><span class="line">           &#125;,</span><br><span class="line">           cancelCallback: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       $(<span class="string">'#department-box'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">           cascadeLocationMobile.open();</span><br><span class="line">           <span class="keyword">this</span>.blur();</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="9-职称选择控件"><a href="#9-职称选择控件" class="headerlink" title="9.职称选择控件"></a><a name="职称选择控件"></a>9.职称选择控件</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// 桌面版职称</span></span><br><span class="line">   cascadeTitle = <span class="keyword">new</span> Cascading.Desktop(&#123;</span><br><span class="line">       type: <span class="string">'common'</span>,</span><br><span class="line">       data: <span class="string">'dataTitle'</span>,</span><br><span class="line">       dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</span><br><span class="line">       container: <span class="string">'cascading-title-container'</span>,</span><br><span class="line">       additionClass: <span class="string">'test'</span>,</span><br><span class="line">       ieFallback: <span class="literal">true</span>,</span><br><span class="line">       confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">           $(<span class="string">'.job-input'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</span><br><span class="line">           </span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">   $(<span class="string">'.job-input'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">       cascadeTitle.open();</span><br><span class="line">       <span class="keyword">this</span>.blur();</span><br><span class="line">   &#125;);</span><br><span class="line"><span class="comment">// 移动版职称</span></span><br><span class="line">   cascadeTitleMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</span><br><span class="line">       type: <span class="string">'common'</span>,</span><br><span class="line">       data: <span class="string">'dataTitle'</span>,</span><br><span class="line">       dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</span><br><span class="line">       container: <span class="string">'cascading-title-mobile-container'</span>,</span><br><span class="line">       additionClass: <span class="string">'test'</span>,</span><br><span class="line">       ieFallback: <span class="literal">true</span>,</span><br><span class="line">       confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">           $(<span class="string">'.job-input'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">   $(<span class="string">'.job-input'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">       cascadeTitle.open();</span><br><span class="line">       <span class="keyword">this</span>.blur();</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="10-判断是否移动端"><a href="#10-判断是否移动端" class="headerlink" title="10.判断是否移动端"></a><a name="判断是否移动端"></a>10.判断是否移动端</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isMobile = <span class="regexp">/mobile|dxyapp/i</span>.test(<span class="built_in">window</span>.navigator.userAgent);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="11-获取内页文章ID"><a href="#11-获取内页文章ID" class="headerlink" title="11.获取内页文章ID"></a><a name="获取内页文章ID"></a>11.获取内页文章ID</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getContentId</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   	<span class="keyword">var</span> match = $(<span class="string">'body'</span>).attr(<span class="string">'class'</span>).match(<span class="regexp">/page-node-(\d+)/</span>);</span><br><span class="line">   	<span class="keyword">return</span> match ? match[<span class="number">1</span>] : <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="12-validate插件扩展"><a href="#12-validate插件扩展" class="headerlink" title="12.validate插件扩展"></a><a name="validate插件扩展"></a>12.validate插件扩展</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将该段代码写在validate.min.js最后来增加自定义扩展</span></span><br><span class="line">jQuery.extend(jQuery.validator.messages, &#123;</span><br><span class="line">    required: <span class="string">"此项必填"</span>,</span><br><span class="line">    chineseName: <span class="string">"请输入正确的中文名"</span>,</span><br><span class="line">    mobileNumber: <span class="string">"请输入正确的手机号码"</span>,</span><br><span class="line">    remote: <span class="string">"请重新输入"</span>,</span><br><span class="line">    email: <span class="string">"请输入正确的电子邮件"</span>,</span><br><span class="line">    url: <span class="string">"请输入正确的网址"</span>,</span><br><span class="line">    date: <span class="string">"请输入正确的日期"</span>,</span><br><span class="line">    dateISO: <span class="string">"请输入正确的日期"</span>,</span><br><span class="line">    number: <span class="string">"请输入正确的数字"</span>,</span><br><span class="line">    digits: <span class="string">"只能输入整数"</span>,</span><br><span class="line">    creditcard: <span class="string">"请输入正确的信用卡号"</span>,</span><br><span class="line">    equalTo: <span class="string">"请再输一次"</span>,</span><br><span class="line">    accept: <span class="string">"不支持上传该附件类型"</span>,</span><br><span class="line">    filesize:<span class="string">"文件太大"</span>,</span><br><span class="line">    maxlength: jQuery.validator.format(<span class="string">"长度最多为 &#123;0&#125; 位"</span>),</span><br><span class="line">    minlength: jQuery.validator.format(<span class="string">"长度最少为 &#123;0&#125;位"</span>),</span><br><span class="line">    rangelength: jQuery.validator.format(<span class="string">"长度介于 &#123;0&#125; 位和 &#123;1&#125; 位之间"</span>),</span><br><span class="line">    range: jQuery.validator.format(<span class="string">"大小介于 &#123;0&#125; 和 &#123;1&#125; 之间"</span>),</span><br><span class="line">    max: jQuery.validator.format(<span class="string">"最大为 &#123;0&#125; "</span>),</span><br><span class="line">    min: jQuery.validator.format(<span class="string">"最小为 &#123;0&#125; "</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 中文名</span></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"chineseName"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^[\u4E00-\u9FA5]&#123;2,5&#125;$/</span>.test(value);</span><br><span class="line">&#125;, <span class="string">'请输入正确的中文名'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手机号码</span></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"mobileNumber"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\d&#123;8&#125;$/</span>.test(value);</span><br><span class="line">&#125;, <span class="string">'请输入正确的手机号码'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//电话的验证      </span></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"isPhone"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">value,element</span>) </span>&#123; </span><br><span class="line">        <span class="keyword">var</span> length = value.length;   </span><br><span class="line">        <span class="keyword">var</span> mobile = <span class="regexp">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\d&#123;8&#125;$/</span>;   </span><br><span class="line">        <span class="keyword">var</span> tel = <span class="regexp">/^((\(\d&#123;2,3&#125;\))|(\d&#123;3&#125;\-))?(\(0\d&#123;2,3&#125;\)|0\d&#123;2,3&#125;-)?[1-9]\d&#123;6,7&#125;(\-\d&#123;1,4&#125;)?$/</span>;   </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || (tel.test(value) ||  (length == <span class="number">11</span> &amp;&amp; mobile.test(value))); </span><br><span class="line">&#125;, <span class="string">"请输入正确的联系电话"</span>);</span><br><span class="line"></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"extension"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, param</span>) </span>&#123;</span><br><span class="line">    param = <span class="keyword">typeof</span> param === <span class="string">"string"</span> ? param.replace(<span class="regexp">/,/g</span>, <span class="string">'|'</span>) : <span class="string">"png|jpe?g|gif"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || value.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\.("</span> + param + <span class="string">")$"</span>, <span class="string">"i"</span>));</span><br><span class="line">&#125;, jQuery.format(<span class="string">"请选择正确的文件格式"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//邮编 </span></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"postcode"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^[1-9]\d&#123;5&#125;$/</span>.test(value);</span><br><span class="line">&#125;, <span class="string">'请输入正确的邮编'</span>);</span><br><span class="line"><span class="comment">//身份证 </span></span><br><span class="line">jQuery.validator.addMethod(<span class="string">"identitycard"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^(\d&#123;15&#125;$|^\d&#123;18&#125;$|^\d&#123;17&#125;(\d|X|x))$/</span>.test(value);</span><br><span class="line">&#125;, <span class="string">'请输入正确的身份证号'</span>);</span><br><span class="line"><span class="comment">//文件大小</span></span><br><span class="line">$.validator.addMethod(<span class="string">'filesize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, param</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//以bytes为单位</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || (element.files[<span class="number">0</span>].size &lt;= param) </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变错误提示的标签</span></span><br><span class="line">jQuery.validator.defaults.errorElement = <span class="string">'span'</span>;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="13-validate插件使用"><a href="#13-validate插件使用" class="headerlink" title="13.validate插件使用"></a><a name="validate插件使用"></a>13.validate插件使用</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> caseForm = $(<span class="string">'表单'</span>);</span><br><span class="line"><span class="keyword">if</span>(!caseForm.length) &#123;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   caseForm.validate(&#123;</span><br><span class="line">       focusCleanup:<span class="literal">true</span>,</span><br><span class="line">       rules: &#123;</span><br><span class="line">       	<span class="comment">//这里的title均为name属性值</span></span><br><span class="line">           <span class="string">'title'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_realname[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_job[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_address[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_phone[und][0][value]'</span>: &#123;required: <span class="literal">true</span>, mobileNumber: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_location[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_company[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_department[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'field_email[und][0][value]'</span>: &#123;required: <span class="literal">true</span>, email: <span class="literal">true</span>&#125;,</span><br><span class="line">           <span class="string">'files[field_file_und_0]'</span>: &#123;required: <span class="literal">true</span>,accept:<span class="string">'docx|doc|pdf|ppt|pptx'</span>,filesize:<span class="number">20971520</span>&#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       messages: &#123;</span><br><span class="line">           <span class="string">'title'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入标题'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_realname[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入姓名'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_job[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入职称'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_address[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入通讯地址'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_phone[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入电话或者手机号码'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_location[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请选择地区'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_company[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请选择工作单位'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_department[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请选择所在科室'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'field_email[und][0][value]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请输入电子邮箱'</span></span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="string">'files[field_file_und_0]'</span>: &#123;</span><br><span class="line">               required: <span class="string">'请上传文件'</span>,</span><br><span class="line">               accept:<span class="string">'不支持该文件类型'</span>,</span><br><span class="line">               filesize:<span class="string">'文件太大'</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       errorPlacement: <span class="function"><span class="keyword">function</span>(<span class="params">error, element</span>)</span>&#123;</span><br><span class="line">           error.appendTo(element.closest(<span class="string">'放置错误信息的容器'</span>));</span><br><span class="line">       &#125;,</span><br><span class="line">       submitHandler:<span class="function"><span class="keyword">function</span>(<span class="params">form</span>)</span><br><span class="line">       </span>&#123;</span><br><span class="line">           form.submit();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="14-bxslider轮播图使用"><a href="#14-bxslider轮播图使用" class="headerlink" title="14.bxslider轮播图使用"></a><a name="bxslider轮播图使用"></a>14.bxslider轮播图使用</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'../lib/jquery.bxslider.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> slider = $(<span class="string">'放置轮播图的容器'</span>);</span><br><span class="line"><span class="keyword">if</span> (slider.length) &#123;</span><br><span class="line">    slider.bxSlider(&#123;</span><br><span class="line">        auto:<span class="literal">true</span>,</span><br><span class="line">        minSlides: <span class="number">1</span>,</span><br><span class="line">        maxSlides: <span class="number">1</span>,</span><br><span class="line">        moveSlides: <span class="number">1</span>,</span><br><span class="line">        adaptiveHeight: <span class="literal">true</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//详细API请见官网</span></span><br></pre></td></tr></table></figure>
</code></pre><h2 id="15-一般选项卡"><a href="#15-一般选项卡" class="headerlink" title="15.一般选项卡"></a><a name="一般选项卡"></a>15.一般选项卡</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.tab .title'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   	$(<span class="keyword">this</span>).addClass(<span class="string">'active'</span>).siblings().removeClass(<span class="string">'active'</span>);</span><br><span class="line">   	$(<span class="string">'.tab .content'</span>).eq($(<span class="keyword">this</span>).index()).show().siblings().hide();</span><br><span class="line">&#125;).eq(<span class="number">0</span>).click();</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="16-新窗口打开页面"><a href="#16-新窗口打开页面" class="headerlink" title="16.    新窗口打开页面"></a><a name="新窗口打开页面"></a>16.    新窗口打开页面</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;a href="http://zanseven007.github.io" rel="external"&gt;open link&lt;/a&gt;</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $(<span class="string">"a[rel$='external']"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.target=<span class="string">'_blank'</span>;    </span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="17-滚动到指定位置滑动动画"><a href="#17-滚动到指定位置滑动动画" class="headerlink" title="17. 滚动到指定位置滑动动画"></a><a name="滚动到指定位置滑动动画"></a>17. 滚动到指定位置滑动动画</h2><pre><code><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.scrollTo = function(speed)&#123;</span><br><span class="line">  var targetOffset = $(this).offset().top;</span><br><span class="line">  $(html,body).stop().animate(&#123;scrollTop: targetOffset&#125;, speed);</span><br><span class="line">&#125;</span><br><span class="line">//使用</span><br><span class="line"> $(#goTop).click(function()&#123;</span><br><span class="line">  $(body).scrollTo(500);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="18-对话框控件使用"><a href="#18-对话框控件使用" class="headerlink" title="18.对话框控件使用"></a><a name="对话框控件使用"></a>18.对话框控件使用</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Dialog = <span class="built_in">require</span>(<span class="string">'./tool/dialog.js'</span>);</span><br><span class="line">Dialog.show();</span><br><span class="line">Dialog.alert();</span><br><span class="line">Dialog.hide();</span><br><span class="line">Dialog.tip();</span><br><span class="line"><span class="comment">//四个方法</span></span><br></pre></td></tr></table></figure>
</code></pre><p>现在已经被范同学优化,详细请见<a href="https://github.com/dxy-biz-developer/dxy-dialog" target="_blank" rel="external">dxy-dialog</a>    </p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://DXY-Biz-Team.github.io/2016/04/biz-front-end-use-skill/" data-id="cimyb38yu0000s9xum3p3nh78" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/03/things-about-npm-front-end-modules/" class="next">关于 npm 前端模块的那点儿事儿（ES2015, Babel, UMD）</a></div><div id="disqus_thread"><script>var disqus_shortname = 'dxy-biz-developer';
var disqus_identifier = '2016/04/biz-front-end-use-skill/';
var disqus_title = '丁香园（E-marketing项目使用技巧,持续更新中）';
var disqus_url = 'http://DXY-Biz-Team.github.io/2016/04/biz-front-end-use-skill/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//dxy-biz-developer.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://DXY-Biz-Team.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Mac-Software-Guide/" style="font-size: 15px;">Mac Software Guide</a> <a href="/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/tags/Developer/" style="font-size: 15px;">Developer</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/ES2015/" style="font-size: 15px;">ES2015</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/UMD/" style="font-size: 15px;">UMD</a> <a href="/tags/Babel/" style="font-size: 15px;">Babel</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/04/biz-front-end-use-skill/">丁香园（E-marketing项目使用技巧,持续更新中）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/things-about-npm-front-end-modules/">关于 npm 前端模块的那点儿事儿（ES2015, Babel, UMD）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/sublime-text-setting-guide/">Sublime Text 2 & 3 配置指南 (MSG.01)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//dxy-biz-developer.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.dxy.cn" title="丁香园" target="_blank">丁香园</a><ul></ul><a href="http://dxy.com/" title="丁香医生" target="_blank">丁香医生</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">DXY Biz Developer.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-75363891-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>